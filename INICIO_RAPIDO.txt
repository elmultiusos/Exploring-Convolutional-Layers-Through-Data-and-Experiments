ğŸŒ INICIO RÃPIDO - UC MERCED LAND USE CLASSIFICATION
====================================================

PROYECTO: ClasificaciÃ³n de uso de tierra en imÃ¡genes satelitales
DATASET: UC Merced (21 clases, 2,100 imÃ¡genes RGB 256Ã—256)
API: FastAPI con Swagger UI

ğŸ“‹ PREREQUISITOS
---------------
âœ“ Python 3.9-3.12 (NO usar Python 3.13)
âœ“ Carpeta images_train_test_val/ con el dataset organizado
âœ“ 8GB RAM mÃ­nimo
âœ“ Windows 10/11

âš ï¸ IMPORTANTE: ESTRUCTURA DE DATOS
---------------------------------

Antes de empezar, DEBES tener esta estructura:

C:\Tu\Carpeta\
â”œâ”€â”€ images_train_test_val/
â”‚   â”œâ”€â”€ train/
â”‚   â”‚   â”œâ”€â”€ agricultural/      (imÃ¡genes .png aquÃ­)
â”‚   â”‚   â”œâ”€â”€ airplane/
â”‚   â”‚   â”œâ”€â”€ baseballdiamond/
â”‚   â”‚   â””â”€â”€ ... (21 carpetas en total)
â”‚   â”œâ”€â”€ validation/
â”‚   â”‚   â”œâ”€â”€ agricultural/
â”‚   â”‚   â””â”€â”€ ... (21 carpetas)
â”‚   â””â”€â”€ test/
â”‚       â”œâ”€â”€ agricultural/
â”‚       â””â”€â”€ ... (21 carpetas)
â”‚
â”œâ”€â”€ save_model_ucmerced.py
â”œâ”€â”€ api_ucmerced.py
â”œâ”€â”€ label_map.json
â””â”€â”€ ... (otros archivos)

Para verificar:
    dir images_train_test_val\train
    # Debe mostrar 21 carpetas

âš¡ OPCIÃ“N 1: INSTALACIÃ“N AUTOMÃTICA
----------------------------------

1. Doble click en: install-windows.bat

2. Espera 5-10 minutos (descarga TensorFlow ~500MB)

3. Si todo sale bien, verÃ¡s:
   âœ“ Â¡InstalaciÃ³n completada exitosamente!

ğŸ”§ OPCIÃ“N 2: INSTALACIÃ“N MANUAL (Si falla la automÃ¡tica)
-------------------------------------------------------

Abre CMD (SÃ­mbolo del sistema) en tu carpeta:

1. Crear ambiente virtual:
   python -m venv venv

2. Activar ambiente:
   venv\Scripts\activate

3. Actualizar pip:
   python -m pip install --upgrade pip

4. Instalar TensorFlow (Â¡IMPORTANTE!):
   pip install tensorflow
   
   â±ï¸ Esto tardarÃ¡ varios minutos. Ten paciencia.
   
   âœ“ Si sale error, intenta:
   pip install tensorflow-cpu

5. Instalar otras dependencias:
   pip install fastapi uvicorn[standard] python-multipart
   pip install numpy Pillow requests matplotlib pandas

6. Verificar instalaciÃ³n:
   python -c "import tensorflow as tf; print(tf.__version__)"
   
   Debe mostrar: 2.20.0 (o superior)

ğŸ¯ ENTRENAR EL MODELO
--------------------

1. AsegÃºrate de estar en el ambiente virtual:
   venv\Scripts\activate

2. Ejecuta:
   python save_model_ucmerced.py

3. VerÃ¡s algo como:
   ğŸŒ UC MERCED LAND USE CLASSIFICATION - CNN Training
   ============================================================
   âœ“ Train samples: 1470
   âœ“ Validation samples: 315
   âœ“ Test samples: 315
   
   Epoch 1/20
   46/46 [======] - 45s - loss: 2.8145 - accuracy: 0.1524
   ...

4. El entrenamiento tarda:
   â€¢ Con GPU: 5-10 minutos
   â€¢ Sin GPU (CPU): 30-60 minutos

5. Al terminar:
   âœ“ Resultados finales:
     Test Accuracy: 0.7968 (79.68%)
     Test Top-3 Accuracy: 0.9302 (93.02%)
   
   ğŸ’¾ Guardando modelo en models/ucmerced_cnn.h5...
   âœ… Â¡Entrenamiento completado exitosamente!

ğŸŒ INICIAR LA API
----------------

1. Con el ambiente activado:
   python api_ucmerced.py

2. VerÃ¡s:
   ğŸš€ Iniciando UC Merced Land Use Classification API
   ğŸ“š DocumentaciÃ³n disponible en: http://localhost:8000/docs
   INFO:     Uvicorn running on http://0.0.0.0:8000

3. DEJA esta ventana abierta (el servidor estÃ¡ corriendo)

4. Abre tu navegador en:
   http://localhost:8000/docs

5. Â¡Ya tienes Swagger UI funcionando! ğŸ‰

ğŸ“Š USAR SWAGGER UI
-----------------

1. En http://localhost:8000/docs verÃ¡s todos los endpoints

2. Para PREDECIR una imagen:
   
   a) Click en "POST /predict"
   
   b) Click en "Try it out"
   
   c) Click en "Choose File" y selecciona una imagen satelital
   
   d) Click en "Execute"
   
   e) VerÃ¡s la respuesta:
      {
        "predicted_class": "forest",
        "class_id": 7,
        "confidence": 0.8542,
        "top_3_predictions": [
          {"class": "forest", "confidence": 0.8542},
          {"class": "chaparral", "confidence": 0.0892},
          ...
        ]
      }

3. Otros endpoints Ãºtiles:
   
   â€¢ GET /classes â†’ Ver las 21 clases disponibles
   â€¢ GET /model/info â†’ InformaciÃ³n del modelo
   â€¢ GET /examples â†’ Descripciones de cada clase
   â€¢ GET /health â†’ Verificar que todo funciona

ğŸ§ª PROBAR CON PYTHON
-------------------

Crea un archivo test.py:

```python
import requests

# Clasificar una imagen
with open('tu_imagen.jpg', 'rb') as f:
    files = {'file': f}
    response = requests.post('http://localhost:8000/predict', files=files)
    result = response.json()

print(f"Clase: {result['predicted_class']}")
print(f"Confianza: {result['confidence']:.2%}")
```

Ejecuta:
   python test.py

âŒ PROBLEMAS COMUNES
-------------------

PROBLEMA: "Could not find tensorflow"
SOLUCIÃ“N:
   venv\Scripts\activate
   pip install tensorflow

PROBLEMA: "No se encuentra el directorio 'images_train_test_val'"
SOLUCIÃ“N:
   Verifica que la carpeta existe:
   dir images_train_test_val
   
   Si no existe, crea la estructura correcta (ver arriba)

PROBLEMA: "Port already in use"
SOLUCIÃ“N:
   Cambia el puerto en api_ucmerced.py (Ãºltima lÃ­nea):
   port=9000  # en vez de 8000

PROBLEMA: "Out of Memory" durante entrenamiento
SOLUCIÃ“N:
   En save_model_ucmerced.py cambia:
   BATCH_SIZE = 16  # en vez de 32
   IMG_HEIGHT = 64  # en vez de 128
   IMG_WIDTH = 64

PROBLEMA: Python 3.13 - TensorFlow no se instala
SOLUCIÃ“N:
   Desinstala Python 3.13
   Instala Python 3.11 desde:
   https://www.python.org/downloads/release/python-3110/

Para MÃS soluciones, lee: TROUBLESHOOTING-WINDOWS.txt

ğŸ“ ARCHIVOS IMPORTANTES
----------------------

save_model_ucmerced.py      â†’ Entrena el modelo
api_ucmerced.py             â†’ Inicia la API con Swagger
ucmerced_experiments.ipynb  â†’ Notebook con anÃ¡lisis completo
README.md                   â†’ DocumentaciÃ³n completa
label_map.json              â†’ Mapeo de las 21 clases
train.csv, validation.csv   â†’ Metadata del dataset

ğŸ“ PARA TU TAREA
---------------

Este proyecto cumple TODOS los requisitos:

âœ… Dataset justificado (UC Merced - imÃ¡genes satelitales)
âœ… EDA completo (en notebook)
âœ… Modelo baseline (Dense layers)
âœ… Arquitectura CNN diseÃ±ada (4 bloques conv)
âœ… Experimentos controlados (kernel 3Ã—3 vs 5Ã—5)
âœ… InterpretaciÃ³n arquitectÃ³nica (secciÃ³n 7 del notebook)
âœ… Deployment funcional (API con Swagger UI)
âœ… CÃ³digo limpio y ejecutable
âœ… README con documentaciÃ³n

DIFERENCIAS vs SAGEMAKER:
â€¢ Gratis (no necesitas AWS)
â€¢ MÃ¡s fÃ¡cil de debugear
â€¢ Swagger UI profesional
â€¢ Funciona localmente

ğŸ“– PRÃ“XIMOS PASOS
----------------

1. âœ“ Instalar dependencias
2. âœ“ Entrenar modelo
3. âœ“ Iniciar API
4. âœ“ Probar en Swagger UI
5. â†’ Explorar el notebook para anÃ¡lisis detallado
6. â†’ Experimentar con hiperparÃ¡metros
7. â†’ Presentar tu proyecto

ğŸ‰ Â¡Ã‰XITO!
----------

Si llegaste hasta aquÃ­ y todo funciona:

1. El modelo estÃ¡ entrenado âœ“
2. La API estÃ¡ corriendo âœ“
3. Swagger UI muestra la documentaciÃ³n âœ“
4. Puedes clasificar imÃ¡genes âœ“

Â¡Felicidades! Ya tienes un sistema completo de clasificaciÃ³n
de uso de tierra con CNN deployado localmente. ğŸŠ

Para documentaciÃ³n completa: lee README.md
Para troubleshooting: lee TROUBLESHOOTING-WINDOWS.txt
